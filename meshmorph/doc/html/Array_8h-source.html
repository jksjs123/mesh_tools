<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>meshmorph: Array.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="namespaces.html"><span>Namespaces</span></a></li>
    <li><a href="annotated.html"><span>Classes</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
  </ul></div>
<h1>Array.h</h1><a href="Array_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*------------------------------------------------------------------------------</span>
<a name="l00002"></a>00002 <span class="comment"></span>
<a name="l00003"></a>00003 <span class="comment">   Octree Component, version 2.1</span>
<a name="l00004"></a>00004 <span class="comment">   Copyright (c) 2004-2007,  Harrison Ainsworth / HXA7241.</span>
<a name="l00005"></a>00005 <span class="comment"></span>
<a name="l00006"></a>00006 <span class="comment">   http://www.hxa7241.org/</span>
<a name="l00007"></a>00007 <span class="comment"></span>
<a name="l00008"></a>00008 <span class="comment">------------------------------------------------------------------------------*/</span>
<a name="l00009"></a>00009 
<a name="l00010"></a>00010 <span class="comment">/*------------------------------------------------------------------------------</span>
<a name="l00011"></a>00011 <span class="comment"></span>
<a name="l00012"></a>00012 <span class="comment">Copyright (c) 2004-2007, Harrison Ainsworth / HXA7241.</span>
<a name="l00013"></a>00013 <span class="comment"></span>
<a name="l00014"></a>00014 <span class="comment">Redistribution and use in source and binary forms, with or without modification,</span>
<a name="l00015"></a>00015 <span class="comment">are permitted provided that the following conditions are met:</span>
<a name="l00016"></a>00016 <span class="comment"></span>
<a name="l00017"></a>00017 <span class="comment">* Redistributions of source code must retain the above copyright notice, this</span>
<a name="l00018"></a>00018 <span class="comment">  list of conditions and the following disclaimer.</span>
<a name="l00019"></a>00019 <span class="comment">* Redistributions in binary form must reproduce the above copyright notice, this</span>
<a name="l00020"></a>00020 <span class="comment">  list of conditions and the following disclaimer in the documentation and/or</span>
<a name="l00021"></a>00021 <span class="comment">  other materials provided with the distribution.</span>
<a name="l00022"></a>00022 <span class="comment">* The name of the author may not be used to endorse or promote products derived</span>
<a name="l00023"></a>00023 <span class="comment">  from this software without specific prior written permission.</span>
<a name="l00024"></a>00024 <span class="comment"></span>
<a name="l00025"></a>00025 <span class="comment">THIS SOFTWARE IS PROVIDED BY THE AUTHOR "AS IS" AND ANY EXPRESS OR IMPLIED</span>
<a name="l00026"></a>00026 <span class="comment">WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF</span>
<a name="l00027"></a>00027 <span class="comment">MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT</span>
<a name="l00028"></a>00028 <span class="comment">SHALL THE AUTHOR BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,</span>
<a name="l00029"></a>00029 <span class="comment">EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT</span>
<a name="l00030"></a>00030 <span class="comment">OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS</span>
<a name="l00031"></a>00031 <span class="comment">INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN</span>
<a name="l00032"></a>00032 <span class="comment">CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING</span>
<a name="l00033"></a>00033 <span class="comment">IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY</span>
<a name="l00034"></a>00034 <span class="comment">OF SUCH DAMAGE.</span>
<a name="l00035"></a>00035 <span class="comment"></span>
<a name="l00036"></a>00036 <span class="comment">------------------------------------------------------------------------------*/</span>
<a name="l00037"></a>00037 
<a name="l00038"></a>00038 
<a name="l00039"></a>00039 <span class="preprocessor">#ifndef Array_h</span>
<a name="l00040"></a>00040 <span class="preprocessor"></span><span class="preprocessor">#define Array_h</span>
<a name="l00041"></a>00041 <span class="preprocessor"></span>
<a name="l00042"></a>00042 
<a name="l00043"></a>00043 <span class="preprocessor">#include "<a class="code" href="Primitives_8h.html">Primitives.h</a>"</span>
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 
<a name="l00046"></a>00046 
<a name="l00047"></a>00047 
<a name="l00048"></a><a class="code" href="namespacehxa7241__general.html">00048</a> <span class="keyword">namespace </span>hxa7241_general
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050    <span class="keyword">using namespace </span>hxa7241;
<a name="l00051"></a>00051 
<a name="l00052"></a>00052 
<a name="l00062"></a>00062 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00063"></a><a class="code" href="classhxa7241__general_1_1Array.html">00063</a> <span class="keyword">class </span><a class="code" href="classhxa7241__general_1_1Array.html">Array</a>
<a name="l00064"></a>00064 {
<a name="l00066"></a>00066 <span class="keyword">public</span>:
<a name="l00067"></a>00067                   <a class="code" href="classhxa7241__general_1_1Array.html#19c8ccd416430b948bece58b6ef0cd65">Array</a>();
<a name="l00068"></a>00068    <span class="keyword">explicit</span>       <a class="code" href="classhxa7241__general_1_1Array.html#19c8ccd416430b948bece58b6ef0cd65">Array</a>( <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> length );                               <span class="comment">// throws</span>
<a name="l00069"></a>00069 
<a name="l00070"></a>00070                  <a class="code" href="classhxa7241__general_1_1Array.html#910ed166575ac746c058a54e1f50828e">~Array</a>();
<a name="l00071"></a>00071                   <a class="code" href="classhxa7241__general_1_1Array.html#19c8ccd416430b948bece58b6ef0cd65">Array</a>( <span class="keyword">const</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array</a>&amp; );                               <span class="comment">// throws</span>
<a name="l00072"></a>00072            <a class="code" href="classhxa7241__general_1_1Array.html">Array</a>&amp; <a class="code" href="classhxa7241__general_1_1Array.html#108e643b3185767e2cc2911b62d68df2">operator=</a>( <span class="keyword">const</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array</a>&amp; );                           <span class="comment">// throws</span>
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 
<a name="l00076"></a>00076            <span class="keywordtype">void</span>   <a class="code" href="classhxa7241__general_1_1Array.html#5dca0cb17cbbe92caab48328a65ab9d4">setLength</a>( <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> length );                           <span class="comment">// throws</span>
<a name="l00077"></a>00077 
<a name="l00078"></a>00078            <span class="keywordtype">void</span>   <a class="code" href="classhxa7241__general_1_1Array.html#27f99dbdb82416aefe4ab98d61cefdc6">swap</a>( <a class="code" href="classhxa7241__general_1_1Array.html">Array</a>&amp; );
<a name="l00079"></a>00079            <span class="keywordtype">void</span>   <a class="code" href="classhxa7241__general_1_1Array.html#6c0da347dae749198cdca92fe0974eff">append</a>( <span class="keyword">const</span> TYPE&amp; );                               <span class="comment">// throws</span>
<a name="l00080"></a>00080            <span class="keywordtype">void</span>   <a class="code" href="classhxa7241__general_1_1Array.html#df64ea9c922348d908936c9130800473">remove</a>( <span class="keywordtype">int</span> index );                                 <span class="comment">// throws</span>
<a name="l00081"></a>00081 
<a name="l00082"></a>00082            <span class="keywordtype">void</span>   <a class="code" href="classhxa7241__general_1_1Array.html#dd0d285c045512bb7d7084293a85875a">zeroStorage</a>();
<a name="l00083"></a>00083 
<a name="l00084"></a>00084            TYPE*  <a class="code" href="classhxa7241__general_1_1Array.html#56bd54118d903d09b4c75cc48c6a9e69">getStorage</a>();
<a name="l00085"></a>00085            TYPE&amp;  <a class="code" href="classhxa7241__general_1_1Array.html#1680c1ea351c611606f8e65377f5753f">operator[]</a>( <span class="keywordtype">int</span> index );
<a name="l00086"></a>00086 
<a name="l00087"></a>00087 
<a name="l00089"></a>00089            <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a>  <a class="code" href="classhxa7241__general_1_1Array.html#e0192970720698950334458e62244921">getLength</a>()                                             <span class="keyword">const</span>;
<a name="l00090"></a>00090            <span class="keywordtype">bool</span>   <a class="code" href="classhxa7241__general_1_1Array.html#5d0848f151f59bf43f6c7e2d194e5515">isEmpty</a>()                                               <span class="keyword">const</span>;
<a name="l00091"></a>00091    <span class="keyword">static</span>  <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a>  <a class="code" href="classhxa7241__general_1_1Array.html#d20af64d14392e5a5f6a771951721a70">getMaxLength</a>();
<a name="l00092"></a>00092 
<a name="l00093"></a>00093            <span class="keyword">const</span> TYPE*  <a class="code" href="classhxa7241__general_1_1Array.html#56bd54118d903d09b4c75cc48c6a9e69">getStorage</a>()                                      <span class="keyword">const</span>;
<a name="l00094"></a>00094            <span class="keyword">const</span> TYPE&amp;  <a class="code" href="classhxa7241__general_1_1Array.html#1680c1ea351c611606f8e65377f5753f">operator[]</a>( <span class="keywordtype">int</span> index )                           <span class="keyword">const</span>;
<a name="l00095"></a>00095 
<a name="l00096"></a>00096 
<a name="l00098"></a>00098 <span class="keyword">protected</span>:
<a name="l00099"></a>00099            <span class="keywordtype">void</span>   <a class="code" href="classhxa7241__general_1_1Array.html#ce96e08be4773e3bc1b31eaf73fce215">assign</a>( <span class="keyword">const</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;</a>&amp; );
<a name="l00100"></a>00100 
<a name="l00101"></a>00101            <span class="keywordtype">void</span>   <a class="code" href="classhxa7241__general_1_1Array.html#51db8453fcef1a51d478202d025fae64">acquireStorage</a>( <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> length,
<a name="l00102"></a>00102                                   <span class="keywordtype">bool</span>  isCopied );
<a name="l00103"></a>00103 
<a name="l00104"></a>00104    <span class="keyword">static</span>  <span class="keywordtype">void</span>   <a class="code" href="classhxa7241__general_1_1Array.html#050e82ca928bcda017ce73b3682f768e">copyObjects</a>( TYPE*       lValStart,
<a name="l00105"></a>00105                                <span class="keyword">const</span> TYPE* rValStart,
<a name="l00106"></a>00106                                <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a>       length );
<a name="l00107"></a>00107 
<a name="l00108"></a>00108 
<a name="l00110"></a>00110 <span class="keyword">private</span>:
<a name="l00111"></a>00111    TYPE* pStorage_m;
<a name="l00112"></a>00112    <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> length_m;
<a name="l00113"></a>00113 };
<a name="l00114"></a>00114 
<a name="l00115"></a>00115 
<a name="l00116"></a>00116 
<a name="l00117"></a>00117 
<a name="l00118"></a>00118 
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 
<a name="l00121"></a>00121 
<a name="l00123"></a>00123 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00124"></a><a class="code" href="classhxa7241__general_1_1Array.html#19c8ccd416430b948bece58b6ef0cd65">00124</a> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::Array</a>()
<a name="l00125"></a>00125  : pStorage_m( 0 )
<a name="l00126"></a>00126  , length_m  ( 0 )
<a name="l00127"></a>00127 {
<a name="l00128"></a>00128 }
<a name="l00129"></a>00129 
<a name="l00130"></a>00130 
<a name="l00131"></a>00131 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00132"></a>00132 <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::Array</a>
<a name="l00133"></a><a class="code" href="classhxa7241__general_1_1Array.html#e34427d138a69a24c3b483627d0d5825">00133</a> (
<a name="l00134"></a>00134    <span class="keyword">const</span> <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> length
<a name="l00135"></a>00135 )
<a name="l00136"></a>00136  : pStorage_m( 0 )
<a name="l00137"></a>00137  , length_m  ( 0 )
<a name="l00138"></a>00138 {
<a name="l00139"></a>00139    <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::setLength</a>( length );
<a name="l00140"></a>00140 }
<a name="l00141"></a>00141 
<a name="l00142"></a>00142 
<a name="l00143"></a>00143 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00144"></a><a class="code" href="classhxa7241__general_1_1Array.html#910ed166575ac746c058a54e1f50828e">00144</a> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::~Array</a>()
<a name="l00145"></a>00145 {
<a name="l00146"></a>00146    <span class="keyword">delete</span>[] pStorage_m;
<a name="l00147"></a>00147 }
<a name="l00148"></a>00148 
<a name="l00149"></a>00149 
<a name="l00150"></a>00150 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00151"></a>00151 <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::Array</a>
<a name="l00152"></a><a class="code" href="classhxa7241__general_1_1Array.html#11de2e2cecf48880a62508619d7caab1">00152</a> (
<a name="l00153"></a>00153    <span class="keyword">const</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;</a>&amp; other
<a name="l00154"></a>00154 )
<a name="l00155"></a>00155  : pStorage_m( 0 )
<a name="l00156"></a>00156  , length_m  ( 0 )
<a name="l00157"></a>00157 {
<a name="l00158"></a>00158    <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::assign</a>( other );
<a name="l00159"></a>00159 }
<a name="l00160"></a>00160 
<a name="l00161"></a>00161 
<a name="l00162"></a>00162 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00163"></a>00163 <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;</a>&amp; <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::operator</a>=
<a name="l00164"></a><a class="code" href="classhxa7241__general_1_1Array.html#108e643b3185767e2cc2911b62d68df2">00164</a> (
<a name="l00165"></a>00165    <span class="keyword">const</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;</a>&amp; other
<a name="l00166"></a>00166 )
<a name="l00167"></a>00167 {
<a name="l00168"></a>00168    assign( other );
<a name="l00169"></a>00169 
<a name="l00170"></a>00170    <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00171"></a>00171 }
<a name="l00172"></a>00172 
<a name="l00173"></a>00173 
<a name="l00174"></a>00174 
<a name="l00175"></a>00175 
<a name="l00177"></a>00177 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00178"></a>00178 <span class="keywordtype">void</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::setLength</a>
<a name="l00179"></a><a class="code" href="classhxa7241__general_1_1Array.html#5dca0cb17cbbe92caab48328a65ab9d4">00179</a> (
<a name="l00180"></a>00180    <span class="keyword">const</span> <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> length
<a name="l00181"></a>00181 )
<a name="l00182"></a>00182 {
<a name="l00183"></a>00183    acquireStorage( length, <span class="keyword">false</span> );
<a name="l00184"></a>00184 }
<a name="l00185"></a>00185 
<a name="l00186"></a>00186 
<a name="l00187"></a>00187 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00188"></a>00188 <span class="keywordtype">void</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::swap</a>
<a name="l00189"></a><a class="code" href="classhxa7241__general_1_1Array.html#27f99dbdb82416aefe4ab98d61cefdc6">00189</a> (
<a name="l00190"></a>00190    <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;</a>&amp; other
<a name="l00191"></a>00191 )
<a name="l00192"></a>00192 {
<a name="l00193"></a>00193    TYPE*<span class="keyword">const</span> tmpM  = pStorage_m;
<a name="l00194"></a>00194    pStorage_m       = other.<a class="code" href="classhxa7241__general_1_1Array.html#052026d270cad0d30104f87ae269379a">pStorage_m</a>;
<a name="l00195"></a>00195    other.<a class="code" href="classhxa7241__general_1_1Array.html#052026d270cad0d30104f87ae269379a">pStorage_m</a> = tmpM;
<a name="l00196"></a>00196 
<a name="l00197"></a>00197    <span class="keyword">const</span> <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> tmpL = length_m;
<a name="l00198"></a>00198    length_m         = other.<a class="code" href="classhxa7241__general_1_1Array.html#68c2e467991c13d1ec58cee35d23db8f">length_m</a>;
<a name="l00199"></a>00199    other.<a class="code" href="classhxa7241__general_1_1Array.html#68c2e467991c13d1ec58cee35d23db8f">length_m</a>   = tmpL;
<a name="l00200"></a>00200 }
<a name="l00201"></a>00201 
<a name="l00202"></a>00202 
<a name="l00203"></a>00203 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00204"></a>00204 <span class="keywordtype">void</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::append</a>
<a name="l00205"></a><a class="code" href="classhxa7241__general_1_1Array.html#6c0da347dae749198cdca92fe0974eff">00205</a> (
<a name="l00206"></a>00206    <span class="keyword">const</span> TYPE&amp; element
<a name="l00207"></a>00207 )
<a name="l00208"></a>00208 {
<a name="l00209"></a>00209    <span class="comment">// expand storage, duplicating elements</span>
<a name="l00210"></a>00210    acquireStorage( length_m + 1, <span class="keyword">true</span> );
<a name="l00211"></a>00211 
<a name="l00212"></a>00212    <span class="comment">// write new element into last position</span>
<a name="l00213"></a>00213    *(pStorage_m + length_m - 1) = element;
<a name="l00214"></a>00214 
<a name="l00215"></a>00215 
<a name="l00216"></a>00216 <span class="comment">// // make larger storage</span>
<a name="l00217"></a>00217 <span class="comment">// Array&lt;TYPE&gt; newArray( length_m + 1 );</span>
<a name="l00218"></a>00218 <span class="comment">//</span>
<a name="l00219"></a>00219 <span class="comment">// // duplicate elements, and append new element</span>
<a name="l00220"></a>00220 <span class="comment">// copyObjects( newArray.pStorage_m, pStorage_m, length_m );</span>
<a name="l00221"></a>00221 <span class="comment">// *(newArray.pStorage_m + length_m) = element;</span>
<a name="l00222"></a>00222 <span class="comment">//</span>
<a name="l00223"></a>00223 <span class="comment">// // swap new storage with this</span>
<a name="l00224"></a>00224 <span class="comment">// swap( newArray );</span>
<a name="l00225"></a>00225 }
<a name="l00226"></a>00226 
<a name="l00227"></a>00227 
<a name="l00228"></a>00228 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00229"></a>00229 <span class="keywordtype">void</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::remove</a>
<a name="l00230"></a><a class="code" href="classhxa7241__general_1_1Array.html#df64ea9c922348d908936c9130800473">00230</a> (
<a name="l00231"></a>00231    <span class="keyword">const</span> <span class="keywordtype">int</span> index
<a name="l00232"></a>00232 )
<a name="l00233"></a>00233 {
<a name="l00234"></a>00234    <span class="comment">// check index is within range</span>
<a name="l00235"></a>00235    <span class="keywordflow">if</span>( (index &gt;= 0) &amp; (index &lt; length_m)  )
<a name="l00236"></a>00236    {
<a name="l00237"></a>00237       <span class="comment">// make smaller storage</span>
<a name="l00238"></a>00238       <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;</a> newArray( length_m - 1 );
<a name="l00239"></a>00239 
<a name="l00240"></a>00240       <span class="comment">// copy elements, skipping element at index</span>
<a name="l00241"></a>00241       {
<a name="l00242"></a>00242                TYPE* pDestination = newArray.<a class="code" href="classhxa7241__general_1_1Array.html#052026d270cad0d30104f87ae269379a">pStorage_m</a>;
<a name="l00243"></a>00243                TYPE* pEnd         = pDestination + newArray.<a class="code" href="classhxa7241__general_1_1Array.html#68c2e467991c13d1ec58cee35d23db8f">length_m</a>;
<a name="l00244"></a>00244          <span class="keyword">const</span> TYPE* pSource      = pStorage_m;
<a name="l00245"></a>00245          <span class="keyword">const</span> TYPE* pIndex       = pSource + index;
<a name="l00246"></a>00246          <span class="keywordflow">while</span>( pDestination &lt; pEnd )
<a name="l00247"></a>00247          {
<a name="l00248"></a>00248             pSource += static_cast&lt;dword&gt;(pSource == pIndex);
<a name="l00249"></a>00249             *(pDestination++) = *(pSource++);
<a name="l00250"></a>00250          }
<a name="l00251"></a>00251       }
<a name="l00252"></a>00252 
<a name="l00253"></a>00253       <span class="comment">// swap new storage with this</span>
<a name="l00254"></a>00254       swap( newArray );
<a name="l00255"></a>00255    }
<a name="l00256"></a>00256 }
<a name="l00257"></a>00257 
<a name="l00258"></a>00258 
<a name="l00259"></a>00259 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00260"></a><a class="code" href="classhxa7241__general_1_1Array.html#dd0d285c045512bb7d7084293a85875a">00260</a> <span class="keywordtype">void</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::zeroStorage</a>()
<a name="l00261"></a>00261 {
<a name="l00262"></a>00262    <span class="keywordflow">for</span>( <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> i = length_m;  i-- &gt; 0; )
<a name="l00263"></a>00263    {
<a name="l00264"></a>00264       pStorage_m[ i ] = TYPE();
<a name="l00265"></a>00265    }
<a name="l00266"></a>00266 }
<a name="l00267"></a>00267 
<a name="l00268"></a>00268 
<a name="l00269"></a>00269 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00270"></a>00270 <span class="keyword">inline</span>
<a name="l00271"></a><a class="code" href="classhxa7241__general_1_1Array.html#56bd54118d903d09b4c75cc48c6a9e69">00271</a> TYPE* <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::getStorage</a>()
<a name="l00272"></a>00272 {
<a name="l00273"></a>00273    <span class="keywordflow">return</span> pStorage_m;
<a name="l00274"></a>00274 }
<a name="l00275"></a>00275 
<a name="l00276"></a>00276 
<a name="l00277"></a>00277 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00278"></a>00278 <span class="keyword">inline</span>
<a name="l00279"></a>00279 TYPE&amp; <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::operator</a>[]
<a name="l00280"></a><a class="code" href="classhxa7241__general_1_1Array.html#1680c1ea351c611606f8e65377f5753f">00280</a> (
<a name="l00281"></a>00281    <span class="keyword">const</span> <span class="keywordtype">int</span> index
<a name="l00282"></a>00282 )
<a name="l00283"></a>00283 {
<a name="l00284"></a>00284    <span class="keywordflow">return</span> pStorage_m[ index ];
<a name="l00285"></a>00285 }
<a name="l00286"></a>00286 
<a name="l00287"></a>00287 
<a name="l00288"></a>00288 
<a name="l00289"></a>00289 
<a name="l00291"></a>00291 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00292"></a>00292 <span class="keyword">inline</span>
<a name="l00293"></a><a class="code" href="classhxa7241__general_1_1Array.html#e0192970720698950334458e62244921">00293</a> <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::getLength</a>()<span class="keyword"> const</span>
<a name="l00294"></a>00294 <span class="keyword"></span>{
<a name="l00295"></a>00295    <span class="keywordflow">return</span> length_m;
<a name="l00296"></a>00296 }
<a name="l00297"></a>00297 
<a name="l00298"></a>00298 
<a name="l00299"></a>00299 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00300"></a>00300 <span class="keyword">inline</span>
<a name="l00301"></a><a class="code" href="classhxa7241__general_1_1Array.html#5d0848f151f59bf43f6c7e2d194e5515">00301</a> <span class="keywordtype">bool</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::isEmpty</a>()<span class="keyword"> const</span>
<a name="l00302"></a>00302 <span class="keyword"></span>{
<a name="l00303"></a>00303    <span class="keywordflow">return</span> 0 == length_m;
<a name="l00304"></a>00304 }
<a name="l00305"></a>00305 
<a name="l00306"></a>00306 
<a name="l00307"></a>00307 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00308"></a>00308 <span class="keyword">inline</span>
<a name="l00309"></a><a class="code" href="classhxa7241__general_1_1Array.html#d20af64d14392e5a5f6a771951721a70">00309</a> <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::getMaxLength</a>()
<a name="l00310"></a>00310 {
<a name="l00311"></a>00311    <span class="keywordflow">return</span> <a class="code" href="namespacehxa7241.html#695c61218401c8b2037d44df891197de">DWORD_MAX</a>;
<a name="l00312"></a>00312 }
<a name="l00313"></a>00313 
<a name="l00314"></a>00314 
<a name="l00315"></a>00315 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00316"></a>00316 <span class="keyword">inline</span>
<a name="l00317"></a><a class="code" href="classhxa7241__general_1_1Array.html#9a86a5038cd279d96ca583120340a584">00317</a> <span class="keyword">const</span> TYPE* <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::getStorage</a>()<span class="keyword"> const</span>
<a name="l00318"></a>00318 <span class="keyword"></span>{
<a name="l00319"></a>00319    <span class="keywordflow">return</span> pStorage_m;
<a name="l00320"></a>00320 }
<a name="l00321"></a>00321 
<a name="l00322"></a>00322 
<a name="l00323"></a>00323 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00324"></a>00324 <span class="keyword">inline</span>
<a name="l00325"></a>00325 <span class="keyword">const</span> TYPE&amp; <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::operator</a>[]
<a name="l00326"></a><a class="code" href="classhxa7241__general_1_1Array.html#d2489b8310652a6b58a66df9d6a6a5f8">00326</a> (
<a name="l00327"></a>00327    <span class="keyword">const</span> <span class="keywordtype">int</span> index
<a name="l00328"></a>00328 ) <span class="keyword">const</span>
<a name="l00329"></a>00329 {
<a name="l00330"></a>00330    <span class="keywordflow">return</span> pStorage_m[ index ];
<a name="l00331"></a>00331 }
<a name="l00332"></a>00332 
<a name="l00333"></a>00333 
<a name="l00334"></a>00334 
<a name="l00335"></a>00335 
<a name="l00337"></a>00337 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00338"></a>00338 <span class="keywordtype">void</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::assign</a>
<a name="l00339"></a><a class="code" href="classhxa7241__general_1_1Array.html#ce96e08be4773e3bc1b31eaf73fce215">00339</a> (
<a name="l00340"></a>00340    <span class="keyword">const</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;</a>&amp; other
<a name="l00341"></a>00341 )
<a name="l00342"></a>00342 {
<a name="l00343"></a>00343    <span class="keywordflow">if</span>( &amp;other != <span class="keyword">this</span> )
<a name="l00344"></a>00344    {
<a name="l00345"></a>00345       acquireStorage( other.<a class="code" href="classhxa7241__general_1_1Array.html#e0192970720698950334458e62244921">getLength</a>(), false );
<a name="l00346"></a>00346 
<a name="l00347"></a>00347       copyObjects( getStorage(), other.<a class="code" href="classhxa7241__general_1_1Array.html#56bd54118d903d09b4c75cc48c6a9e69">getStorage</a>(), other.<a class="code" href="classhxa7241__general_1_1Array.html#e0192970720698950334458e62244921">getLength</a>() );
<a name="l00348"></a>00348    }
<a name="l00349"></a>00349 }
<a name="l00350"></a>00350 
<a name="l00351"></a>00351 
<a name="l00352"></a>00352 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00353"></a>00353 <span class="keywordtype">void</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::acquireStorage</a>
<a name="l00354"></a><a class="code" href="classhxa7241__general_1_1Array.html#51db8453fcef1a51d478202d025fae64">00354</a> (
<a name="l00355"></a>00355    <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a>      newLength,
<a name="l00356"></a>00356    <span class="keyword">const</span> <span class="keywordtype">bool</span> isCopied
<a name="l00357"></a>00357 )
<a name="l00358"></a>00358 {
<a name="l00359"></a>00359    <span class="comment">// clamp to 0 min</span>
<a name="l00360"></a>00360    newLength = (newLength &gt;= 0) ? newLength : 0;
<a name="l00361"></a>00361 
<a name="l00362"></a>00362    <span class="comment">// only allocate if different length</span>
<a name="l00363"></a>00363    <span class="keywordflow">if</span>( newLength != length_m )
<a name="l00364"></a>00364    {
<a name="l00365"></a>00365       <span class="comment">// allocate new storage</span>
<a name="l00366"></a>00366       TYPE* pNewStorage = <span class="keyword">new</span> TYPE[ newLength ];
<a name="l00367"></a>00367 
<a name="l00368"></a>00368       <span class="comment">// copy elements to new storage</span>
<a name="l00369"></a>00369       <span class="keywordflow">if</span>( isCopied )
<a name="l00370"></a>00370       {
<a name="l00371"></a>00371          copyObjects( pNewStorage, pStorage_m,
<a name="l00372"></a>00372             (length_m &lt;= newLength ? length_m : newLength) );
<a name="l00373"></a>00373       }
<a name="l00374"></a>00374 
<a name="l00375"></a>00375       <span class="comment">// delete old storage and set the members</span>
<a name="l00376"></a>00376       <span class="keyword">delete</span>[] pStorage_m;
<a name="l00377"></a>00377       pStorage_m = pNewStorage;
<a name="l00378"></a>00378       length_m   = newLength;
<a name="l00379"></a>00379    }
<a name="l00380"></a>00380 }
<a name="l00381"></a>00381 
<a name="l00382"></a>00382 
<a name="l00383"></a>00383 <span class="keyword">template</span>&lt;<span class="keyword">class</span> TYPE&gt;
<a name="l00384"></a>00384 <span class="keywordtype">void</span> <a class="code" href="classhxa7241__general_1_1Array.html">Array&lt;TYPE&gt;::copyObjects</a>
<a name="l00385"></a><a class="code" href="classhxa7241__general_1_1Array.html#050e82ca928bcda017ce73b3682f768e">00385</a> (
<a name="l00386"></a>00386    TYPE*<span class="keyword">const</span>       pDestination,
<a name="l00387"></a>00387    <span class="keyword">const</span> TYPE*<span class="keyword">const</span> pSource,
<a name="l00388"></a>00388    <span class="keyword">const</span> <a class="code" href="namespacehxa7241.html#bcd38545952886f4718dd5f32b2c5a29">dword</a>      length
<a name="l00389"></a>00389 )
<a name="l00390"></a>00390 {
<a name="l00391"></a>00391    <span class="keywordflow">if</span>( length &gt;= 0 )
<a name="l00392"></a>00392    {
<a name="l00393"></a>00393             TYPE* pDestinationCursor = pDestination + length;
<a name="l00394"></a>00394       <span class="keyword">const</span> TYPE* pSourceCursor      = pSource      + length;
<a name="l00395"></a>00395 
<a name="l00396"></a>00396       <span class="keywordflow">while</span>( pDestinationCursor &gt; pDestination )
<a name="l00397"></a>00397       {
<a name="l00398"></a>00398          *(--pDestinationCursor) = *(--pSourceCursor);
<a name="l00399"></a>00399       }
<a name="l00400"></a>00400    }
<a name="l00401"></a>00401 }
<a name="l00402"></a>00402 
<a name="l00403"></a>00403 
<a name="l00404"></a>00404 }<span class="comment">//namespace</span>
<a name="l00405"></a>00405 
<a name="l00406"></a>00406 
<a name="l00407"></a>00407 
<a name="l00408"></a>00408 
<a name="l00409"></a>00409 <span class="preprocessor">#endif//Array_h</span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Fri Feb 13 13:58:10 2009 for meshmorph by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
